'use client'

import Link from 'next/link'
import { ArrowLeft, AlertTriangle, Shield, Terminal, Code2, Workflow, Lock, Eye, Settings, BookOpen } from 'lucide-react'

export default function GitVulnerabilityPage() {
  return (
    <div className="min-h-screen bg-white">
      {/* Navigation */}
      <nav className="fixed w-full top-0 border-b border-zinc-200 backdrop-blur-md z-40 transition-all duration-300 bg-white/80">
        <div className="max-w-7xl mx-auto px-6 py-6">
          <div className="flex items-center justify-between">
            <Link href="/" className="flex items-center gap-3 group">
              <svg
                width="40"
                height="40"
                viewBox="0 0 512 512"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                className="group-hover:scale-110 transition-transform duration-300"
              >
                <g stroke="#111111" strokeWidth="32" strokeLinecap="round" strokeLinejoin="round">
                  <line x1="128" y1="128" x2="256" y2="256" />
                  <line x1="256" y1="256" x2="384" y2="128" />
                  <line x1="256" y1="256" x2="128" y2="384" />
                  <line x1="256" y1="256" x2="384" y2="384" />
                  <line x1="256" y1="128" x2="256" y2="384" />
                </g>
              </svg>
              <span className="text-xl tracking-[-0.03em] font-satoshi text-zinc-900">KRX</span>
            </Link>

            <div className="flex items-center gap-6">
              <Link
                href="/blog"
                className="text-sm tracking-[-0.04em] font-euclidCircularB text-zinc-800 hover:text-zinc-600 transition-colors"
              >
                Blog
              </Link>
              <Link
                href="/careers"
                className="text-sm tracking-[-0.04em] font-euclidCircularB text-zinc-500 hover:text-zinc-800 transition-colors"
              >
                Careers
              </Link>
            </div>
          </div>
        </div>
      </nav>

      <main className="pt-32 pb-16">
        <article className="max-w-3xl mx-auto px-6">
          {/* Back to Blog */}
          <Link 
            href="/blog"
            className="inline-flex items-center gap-2 text-sm text-zinc-500 hover:text-zinc-800 transition-colors mb-16"
          >
            <ArrowLeft size={16} />
            <span className="font-euclidCircularB">Back to Blog</span>
          </Link>

          {/* Article Header */}
          <header className="mb-16">
            <div className="flex items-center gap-4 mb-8">
              <span className="bg-red-100 text-red-800 px-3 py-1 text-sm font-euclidCircularB tracking-[-0.04em] rounded-full flex items-center gap-2">
                <AlertTriangle size={14} />
                SECURITY
              </span>
              <span className="text-sm text-zinc-500 font-euclidCircularB tracking-[-0.04em]">10 MIN READ</span>
            </div>

            <h1 className="text-4xl sm:text-5xl font-satoshi tracking-[-0.03em] leading-tight text-zinc-900 mb-8">
              Git Malicious Project Vulnerability: How IDEs Executed Hackers' Code
            </h1>

            <p className="text-xl text-zinc-600 font-euclidCircularB tracking-[-0.04em] leading-relaxed">
              Modern development environments are like highly advanced workshops — full of tools, automation, and efficiencies.
              But what happens when those efficiencies are exploited against developers?
            </p>
          </header>

          {/* Article Content */}
          <div className="prose prose-zinc prose-lg max-w-none">
            <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-12">
              <p className="text-yellow-800 font-euclidCircularB m-0 leading-relaxed">
                A <strong>critical vulnerability</strong> has been discovered that allows attackers to execute arbitrary code on a developer's machine simply when opening a Git project in an IDE.
                Here's how it works — and how to protect yourself.
              </p>
            </div>

            <h2 className="text-zinc-900 text-3xl mt-16 mb-8">The Workshop: IDEs and Git</h2>
            <p className="text-zinc-600 leading-relaxed mb-6">
              Developers use IDEs (Integrated Development Environments) like <strong>Visual Studio Code</strong>, <strong>IntelliJ IDEA</strong>, or <strong>PyCharm</strong> to build software efficiently.
              Think of an IDE as a <strong>high-tech workshop</strong>, fully equipped to assemble and debug complex applications.
            </p>
            <p className="text-zinc-600 leading-relaxed mb-6">
              One of the most common projects in this workshop is working with <strong>Git</strong>, the version control system that stores the "blueprints" of the codebase.
            </p>
            <p className="text-zinc-600 leading-relaxed mb-4">Typically, a developer:</p>
            <ul className="text-zinc-600 mb-6 space-y-2">
              <li>Clones a Git repository from the internet to their machine.</li>
              <li>Opens it in their IDE to begin working.</li>
            </ul>
            <p className="text-zinc-600 leading-relaxed mb-16">Unfortunately, that workflow became a perfect target for attackers.</p>

            <h2 className="text-zinc-900 text-3xl mb-8">The Vulnerability: Malicious Notes in the Project Blueprint</h2>
            <p className="text-zinc-600 leading-relaxed mb-8">
              Imagine an attacker sneaks a <strong>malicious instruction sheet</strong> into the project blueprint.
              That's essentially what happens with this exploit:
            </p>

            <h3 className="text-zinc-900 text-2xl mb-6">How it works:</h3>
            <div className="flex flex-col gap-8 not-prose mb-16">
              <div className="flex items-start gap-4">
                <div className="bg-blue-100 p-3 rounded-lg">
                  <Terminal size={24} className="text-blue-800" />
                </div>
                <div>
                  <p className="text-zinc-900 font-euclidCircularB m-0 leading-relaxed">The attacker creates a Git repository and embeds a malicious configuration in a file called <code>.gitmodules</code>.</p>
                </div>
              </div>
              <div className="flex items-start gap-4">
                <div className="bg-blue-100 p-3 rounded-lg">
                  <Code2 size={24} className="text-blue-800" />
                </div>
                <div>
                  <p className="text-zinc-900 font-euclidCircularB m-0 mb-4 leading-relaxed">This file can include instructions like:</p>
                  <pre className="bg-zinc-50 p-6 rounded-lg overflow-x-auto">
                    <code className="text-sm text-zinc-800">[submodule "malicious"]
    path = malicious
    url = `malicious command here`</code>
                  </pre>
                </div>
              </div>
              <div className="flex items-start gap-4">
                <div className="bg-blue-100 p-3 rounded-lg">
                  <Workflow size={24} className="text-blue-800" />
                </div>
                <div>
                  <p className="text-zinc-900 font-euclidCircularB m-0 leading-relaxed">Many IDEs, upon opening a project, automatically read these configurations and execute associated commands — <strong>without asking the developer.</strong></p>
                </div>
              </div>
            </div>

            <h3 className="text-zinc-900 text-2xl mb-6">Why does this happen?</h3>
            <p className="text-zinc-600 leading-relaxed mb-16">
              Because IDEs aim to streamline workflows, they trust and automate Git operations (like checking out submodules) to save developers time — not realizing those instructions might be malicious.
            </p>

            <h2 className="text-zinc-900 text-3xl mb-8">The Impact: Remote Code Execution (RCE)</h2>
            <p className="text-zinc-600 leading-relaxed mb-8">
              When a developer opens such a malicious project in their IDE, the trap is sprung.
              The attacker's payload executes on the developer's machine — with the same permissions as the developer.
            </p>

            <div className="bg-red-50 border border-red-200 rounded-lg p-8 mb-16">
              <h4 className="text-red-800 font-satoshi text-xl m-0 mb-6">Potential consequences:</h4>
              <ul className="m-0 space-y-4">
                <li className="flex items-start gap-4">
                  <AlertTriangle size={24} className="text-red-800 shrink-0 mt-1" />
                  <span className="text-red-800 leading-relaxed"><strong>Full system compromise:</strong> The attacker gains control of the developer's machine.</span>
                </li>
                <li className="flex items-start gap-4">
                  <AlertTriangle size={24} className="text-red-800 shrink-0 mt-1" />
                  <span className="text-red-800 leading-relaxed"><strong>Source code theft:</strong> Proprietary codebases and intellectual property can be exfiltrated.</span>
                </li>
                <li className="flex items-start gap-4">
                  <AlertTriangle size={24} className="text-red-800 shrink-0 mt-1" />
                  <span className="text-red-800 leading-relaxed"><strong>Credential theft:</strong> SSH keys, tokens, and passwords stored locally can be stolen.</span>
                </li>
                <li className="flex items-start gap-4">
                  <AlertTriangle size={24} className="text-red-800 shrink-0 mt-1" />
                  <span className="text-red-800 leading-relaxed"><strong>Lateral movement:</strong> The attacker may use the developer's machine as a foothold to attack internal corporate networks.</span>
                </li>
              </ul>
            </div>

            <p className="text-zinc-600 leading-relaxed mb-16">
              Because developers often have privileged access and sensitive information, this makes the attack especially devastating.
            </p>

            <h2 className="text-zinc-900 text-3xl mb-8">Why This Matters: A Supply Chain Attack</h2>
            <p className="text-zinc-600 leading-relaxed mb-16">
              This is a <strong>supply chain attack vector</strong>, where attackers compromise not the deployed application but the development environment itself — potentially affecting every product built on that machine.
            </p>

            <h2 className="text-zinc-900 text-3xl mb-8">How the Industry Responded</h2>
            <p className="text-zinc-600 leading-relaxed mb-16">
              Security researchers who uncovered this flaw responsibly disclosed it to IDE vendors.
              Companies like <strong>Microsoft (Visual Studio Code)</strong> and <strong>JetBrains (IntelliJ, PyCharm)</strong> have already released or are releasing security updates to mitigate the issue.
            </p>

            <h2 className="text-zinc-900 text-3xl mb-8">How to Protect Yourself</h2>
            <div className="not-prose space-y-8 mb-16">
              <div className="flex items-start gap-6 bg-zinc-50 p-8 rounded-lg">
                <div className="bg-zinc-200 p-3 rounded-lg">
                  <Settings size={28} className="text-zinc-700" />
                </div>
                <div>
                  <h3 className="text-xl font-satoshi text-zinc-900 mb-3">Update Your IDE</h3>
                  <p className="text-zinc-600 font-euclidCircularB m-0 leading-relaxed">
                    Immediately update your IDE to the latest version, which includes patches for this vulnerability.
                  </p>
                </div>
              </div>

              <div className="flex items-start gap-6 bg-zinc-50 p-8 rounded-lg">
                <div className="bg-zinc-200 p-3 rounded-lg">
                  <Eye size={28} className="text-zinc-700" />
                </div>
                <div>
                  <h3 className="text-xl font-satoshi text-zinc-900 mb-3">Verify Submodules</h3>
                  <p className="text-zinc-600 font-euclidCircularB m-0 leading-relaxed">
                    Be cautious when cloning and initializing projects from untrusted sources. Inspect the <code>.gitmodules</code> file before running <code>git submodule update</code>.
                  </p>
                </div>
              </div>

              <div className="flex items-start gap-6 bg-zinc-50 p-8 rounded-lg">
                <div className="bg-zinc-200 p-3 rounded-lg">
                  <Lock size={28} className="text-zinc-700" />
                </div>
                <div>
                  <h3 className="text-xl font-satoshi text-zinc-900 mb-3">Review IDE Settings</h3>
                  <p className="text-zinc-600 font-euclidCircularB m-0 leading-relaxed">
                    Disable automatic submodule initialization and command execution in your IDE if possible.
                  </p>
                </div>
              </div>

              <div className="flex items-start gap-6 bg-zinc-50 p-8 rounded-lg">
                <div className="bg-zinc-200 p-3 rounded-lg">
                  <Shield size={28} className="text-zinc-700" />
                </div>
                <div>
                  <h3 className="text-xl font-satoshi text-zinc-900 mb-3">Harden Your Environment</h3>
                  <p className="text-zinc-600 font-euclidCircularB m-0 leading-relaxed">
                    Use separate accounts or virtual machines for opening untrusted codebases.
                    Consider running your IDE in a sandbox or container when working on unfamiliar projects.
                  </p>
                </div>
              </div>
            </div>

            <h2 className="text-zinc-900 text-3xl mb-8">Technical Best Practices for Organizations</h2>
            <div className="bg-zinc-50 border border-zinc-200 rounded-lg p-8 mb-16">
              <ul className="m-0 space-y-6">
                <li className="flex items-start gap-4">
                  <div className="bg-green-400 p-1.5 rounded-full mt-1.5">
                    <svg className="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
                    </svg>
                  </div>
                  <span className="text-zinc-700 leading-relaxed"><strong>Implement Developer Security Training:</strong> Ensure developers understand how to inspect Git configurations and recognize suspicious files.</span>
                </li>
                <li className="flex items-start gap-4">
                  <div className="bg-green-400 p-1.5 rounded-full mt-1.5">
                    <svg className="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
                    </svg>
                  </div>
                  <span className="text-zinc-700 leading-relaxed"><strong>Restrict Internet Access:</strong> Limit what developers' machines can reach on the network to reduce impact if compromised.</span>
                </li>
                <li className="flex items-start gap-4">
                  <div className="bg-green-400 p-1.5 rounded-full mt-1.5">
                    <svg className="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
                    </svg>
                  </div>
                  <span className="text-zinc-700 leading-relaxed"><strong>Monitor Developer Machines:</strong> Use EDR solutions to detect unusual behaviors on endpoints.</span>
                </li>
                <li className="flex items-start gap-4">
                  <div className="bg-green-400 p-1.5 rounded-full mt-1.5">
                    <svg className="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
                    </svg>
                  </div>
                  <span className="text-zinc-700 leading-relaxed"><strong>Use Code Scanners:</strong> Automate scans of repositories for malicious configurations before allowing them in internal workflows.</span>
                </li>
              </ul>
            </div>

            <h2 className="text-zinc-900 text-3xl mb-8">Conclusion: Update, Audit, and Stay Vigilant</h2>
            <p className="text-zinc-600 leading-relaxed mb-6">
              The modern IDE is powerful — but its automation can also become a liability when abused.
              Attackers exploited this trust to plant malicious code in Git projects, triggering execution as soon as a developer opened the project.
            </p>
            <p className="text-zinc-600 leading-relaxed mb-16">
              <strong>By keeping IDEs updated, inspecting repositories, and adopting secure practices, developers can defend against this emerging threat.</strong>
            </p>

            <h2 className="text-zinc-900 text-3xl mb-8">Frequently Asked Questions (FAQ)</h2>
            <div className="not-prose space-y-12">
              <div className="border-b border-zinc-200 pb-8">
                <h3 className="text-xl font-satoshi text-zinc-900 mb-4">What is the Git malicious project vulnerability?</h3>
                <p className="text-zinc-600 font-euclidCircularB m-0 leading-relaxed">
                  It's a security flaw where attackers embed malicious instructions in a project's <code>.gitmodules</code> file. Some IDEs automatically execute these instructions when opening the project, leading to remote code execution.
                </p>
              </div>

              <div className="border-b border-zinc-200 pb-8">
                <h3 className="text-xl font-satoshi text-zinc-900 mb-4">Which IDEs were affected?</h3>
                <p className="text-zinc-600 font-euclidCircularB m-0 leading-relaxed">
                  Several popular IDEs, including Visual Studio Code and JetBrains products, were reported to be vulnerable before patches were released. Always use the latest version.
                </p>
              </div>

              <div className="border-b border-zinc-200 pb-8">
                <h3 className="text-xl font-satoshi text-zinc-900 mb-4">How can I check if a project is malicious?</h3>
                <p className="text-zinc-600 font-euclidCircularB m-0 leading-relaxed">
                  Before opening, examine the <code>.gitmodules</code> file in the repository. Look for suspicious URLs or commands that don't belong.
                </p>
              </div>

              <div className="pb-8">
                <h3 className="text-xl font-satoshi text-zinc-900 mb-4">Do I need to stop using Git?</h3>
                <p className="text-zinc-600 font-euclidCircularB m-0 leading-relaxed">
                  No — Git itself isn't inherently unsafe. The issue lies in how IDEs automatically execute certain Git configurations. Staying updated and vigilant is key.
                </p>
              </div>
            </div>
          </div>
        </article>
      </main>
    </div>
  )
} 